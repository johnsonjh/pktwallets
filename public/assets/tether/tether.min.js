!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b(require,exports,module):a.Tether=b()}(this,function(ap,aE,au){function aA(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function av(p){var l=getComputedStyle(p),c=l.position;if("fixed"===c){return p}for(var g=p;g=g.parentNode;){var d=void 0;try{d=getComputedStyle(g)}catch(b){}if("undefined"==typeof d||null===d){return g}var u=d,m=u.overflow,k=u.overflowX,j=u.overflowY;if(/(auto|scroll)/.test(m+j+k)&&("absolute"!==c||["relative","absolute","fixed"].indexOf(d.position)>=0)){return g}}return document.body}function ar(b){var f=void 0;b===document?(f=document,b=document.documentElement):f=b.ownerDocument;var g=f.documentElement,a={},h=b.getBoundingClientRect();for(var d in h){a[d]=h[d]}var c=al(f);return a.top-=c.top,a.left-=c.left,"undefined"==typeof a.width&&(a.width=document.body.scrollWidth-a.left-a.right),"undefined"==typeof a.height&&(a.height=document.body.scrollHeight-a.top-a.bottom),a.top=a.top-g.clientTop,a.left=a.left-g.clientLeft,a.right=f.body.clientWidth-a.width-a.left,a.bottom=f.body.clientHeight-a.height-a.top,a}function aq(a){return a.offsetParent||document.documentElement}function aI(){var b=document.createElement("div");b.style.width="100%",b.style.height="200px";var c=document.createElement("div");aD(c.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),c.appendChild(b),document.body.appendChild(c);var d=b.offsetWidth;c.style.overflow="scroll";var a=b.offsetWidth;d===a&&(a=c.clientWidth),document.body.removeChild(c);var f=d-a;return{width:f,height:f}}function aD(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=[];return Array.prototype.push.apply(b,arguments),b.slice(1).forEach(function(c){if(c){for(var d in c){({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}}}),a}function aB(b,c){if("undefined"!=typeof b.classList){c.split(" ").forEach(function(f){f.trim()&&b.classList.remove(f)})}else{var d=new RegExp("(^| )"+c.split(" ").join("|")+"( |$)","gi"),a=ao(b).replace(d," ");at(b,a)}}function ax(a,b){if("undefined"!=typeof a.classList){b.split(" ").forEach(function(d){d.trim()&&a.classList.add(d)})}else{aB(a,b);var c=ao(a)+(" "+b);at(a,c)}}function aF(a,b){if("undefined"!=typeof a.classList){return a.classList.contains(b)}var c=ao(a);return new RegExp("(^| )"+b+"( |$)","gi").test(c)}function ao(a){return a.className instanceof SVGAnimatedString?a.className.baseVal:a.className}function at(a,b){a.setAttribute("class",b)}function aG(a,b,c){c.forEach(function(d){-1===b.indexOf(d)&&aF(a,d)&&aB(a,d)}),b.forEach(function(d){aF(a,d)||ax(a,d)})}function aA(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function aC(a,b){var c=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return a+c>=b&&b>=a-c}function aw(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function an(){for(var b={top:0,left:0},c=arguments.length,d=Array(c),a=0;c>a;a++){d[a]=arguments[a]}return d.forEach(function(g){var h=g.top,f=g.left;"string"==typeof h&&(h=parseFloat(h,10)),"string"==typeof f&&(f=parseFloat(f,10)),b.top+=h,b.left+=f}),b}function ak(a,b){return"string"==typeof a.left&&-1!==a.left.indexOf("%")&&(a.left=parseFloat(a.left,10)/100*b.width),"string"==typeof a.top&&-1!==a.top.indexOf("%")&&(a.top=parseFloat(a.top,10)/100*b.height),a}function aH(a,b){return"scrollParent"===b?b=a.scrollParent:"window"===b&&(b=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),b===document&&(b=b.documentElement),"undefined"!=typeof b.nodeType&&!function(){var d=ar(b),e=d,c=getComputedStyle(b);b=[e.left,e.top,d.width+e.left,d.height+e.top],I.forEach(function(f,g){f=f[0].toUpperCase()+f.substr(1),"Top"===f||"Left"===f?b[g]+=parseFloat(c["border"+f+"Width"]):b[g]-=parseFloat(c["border"+f+"Width"])})}(),b}var am=function(){function a(c,d){for(var f=0;f<d.length;f++){var b=d[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),ag=void 0;"undefined"==typeof ag&&(ag={modules:[]});var Z=function(){var a=0;return function(){return ++a}}(),af={},al=function(b){var c=b._tetherZeroElement;"undefined"==typeof c&&(c=b.createElement("div"),c.setAttribute("data-tether-id",Z()),aD(c.style,{top:0,left:0,position:"absolute"}),b.body.appendChild(c),b._tetherZeroElement=c);var d=c.getAttribute("data-tether-id");if("undefined"==typeof af[d]){af[d]={};var a=c.getBoundingClientRect();for(var f in a){af[d][f]=a[f]}J(function(){delete af[d]})}return af[d]},ai=[],J=function(a){ai.push(a)},K=function(){for(var a=void 0;a=ai.pop();){a()}},G=function(){function a(){aA(this,a)}return am(a,[{key:"on",value:function(c,d,f){var b=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[c]&&(this.bindings[c]=[]),this.bindings[c].push({handler:d,ctx:f,once:b})}},{key:"once",value:function(b,c,d){this.on(b,c,d,!0)}},{key:"off",value:function(b,c){if("undefined"==typeof this.bindings||"undefined"==typeof this.bindings[b]){if("undefined"==typeof c){delete this.bindings[b]}else{for(var d=0;d<this.bindings[b].length;){this.bindings[b][d].handler===c?this.bindings[b].splice(d,1):++d}}}}},{key:"trigger",value:function(p){if("undefined"!=typeof this.bindings&&this.bindings[p]){for(var l=0,c=arguments.length,g=Array(c>1?c-1:0),d=1;c>d;d++){g[d-1]=arguments[d]}for(;l<this.bindings[p].length;){var b=this.bindings[p][l],u=b.handler,m=b.ctx,k=b.once,j=m;"undefined"==typeof j&&(j=this),u.apply(j,g),k?this.bindings[p].splice(l,1):++l}}}}]),a}();ag.Utils={getScrollParent:av,getBounds:ar,getOffsetParent:aq,extend:aD,addClass:ax,removeClass:aB,hasClass:aF,updateClasses:aG,defer:J,flush:K,uniqueId:Z,Evented:G,getScrollBarSize:aI};var ab=function(){function a(l,j){var c=[],g=!0,d=!1,b=void 0;try{for(var m,k=l[Symbol.iterator]();!(g=(m=k.next()).done)&&(c.push(m.value),!j||c.length!==j);g=!0){}}catch(h){d=!0,b=h}finally{try{!g&&k["return"]&&k["return"]()}finally{if(d){throw b}}}return c}return function(b,c){if(Array.isArray(b)){return b}if(Symbol.iterator in Object(b)){return a(b,c)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),am=function(){function a(c,d){for(var f=0;f<d.length;f++){var b=d[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}();if("undefined"==typeof ag){throw new Error("You must include the utils.js file before tether.js")}var V=ag.Utils,av=V.getScrollParent,ar=V.getBounds,aq=V.getOffsetParent,aD=V.extend,ax=V.addClass,aB=V.removeClass,aG=V.updateClasses,J=V.defer,K=V.flush,aI=V.getScrollBarSize,ay=function(){if("undefined"==typeof document){return""}for(var b=document.createElement("div"),c=["transform","webkitTransform","OTransform","MozTransform","msTransform"],d=0;d<c.length;++d){var a=c[d];if(void 0!==b.style[a]){return a}}}(),ah=[],aJ=function(){ah.forEach(function(a){a.position(!1)}),K()};!function(){var b=null,c=null,d=null,a=function f(){return"undefined"!=typeof c&&c>16?(c=Math.min(c-16,250),void (d=setTimeout(f,250))):void ("undefined"!=typeof b&&aw()-b<10||("undefined"!=typeof d&&(clearTimeout(d),d=null),b=aw(),aJ(),c=aw()-b))};"undefined"!=typeof window&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,a)})}();var aj={center:"center",left:"right",right:"left"},ae={middle:"middle",top:"bottom",bottom:"top"},ac={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},q=function(b,c){var d=b.left,a=b.top;return"auto"===d&&(d=aj[c.left]),"auto"===a&&(a=ae[c.top]),{left:d,top:a}},ad=function(a){var b=a.left,c=a.top;return"undefined"!=typeof ac[a.left]&&(b=ac[a.left]),"undefined"!=typeof ac[a.top]&&(c=ac[a.top]),{left:b,top:c}},D=function(b){var c=b.split(" "),d=ab(c,2),a=d[0],f=d[1];return{top:a,left:f}},az=D,aa=function(){function a(b){var c=this;aA(this,a),this.position=this.position.bind(this),ah.push(this),this.history=[],this.setOptions(b,!1),ag.modules.forEach(function(d){"undefined"!=typeof d.initialize&&d.initialize.call(c)}),this.position()}return am(a,[{key:"getClass",value:function(){var b=arguments.length<=0||void 0===arguments[0]?"":arguments[0],c=this.options.classes;return"undefined"!=typeof c&&c[b]?this.options.classes[b]:this.options.classPrefix?this.options.classPrefix+"-"+b:b}},{key:"setOptions",value:function(d){var k=this,l=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],c={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=aD(c,d);var j=this.options,g=j.element,b=j.target,f=j.targetModifier;if(this.element=g,this.target=b,this.targetModifier=f,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof k[e]){throw new Error("Tether Error: Both element and target must be defined")}"undefined"!=typeof k[e].jquery?k[e]=k[e][0]:"string"==typeof k[e]&&(k[e]=document.querySelector(k[e]))}),ax(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&ax(this.target,this.getClass("target")),!this.options.attachment){throw new Error("Tether Error: You must provide an attachment")}this.targetAttachment=az(this.options.targetAttachment),this.attachment=az(this.options.attachment),this.offset=D(this.options.offset),this.targetOffset=D(this.options.targetOffset),"undefined"!=typeof this.scrollParent&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParent=this.target:this.scrollParent=av(this.target),this.options.enabled!==!1&&this.enable(l)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier){return ar(this.target)}if("visible"===this.targetModifier){if(this.target===document.body){return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}}var m=ar(this.target),k={height:m.height,width:m.width,top:m.top,left:m.left};return k.height=Math.min(k.height,m.height-(pageYOffset-m.top)),k.height=Math.min(k.height,m.height-(m.top+m.height-(pageYOffset+innerHeight))),k.height=Math.min(innerHeight,k.height),k.height-=2,k.width=Math.min(k.width,m.width-(pageXOffset-m.left)),k.width=Math.min(k.width,m.width-(m.left+m.width-(pageXOffset+innerWidth))),k.width=Math.min(innerWidth,k.width),k.width-=2,k.top<pageYOffset&&(k.top=pageYOffset),k.left<pageXOffset&&(k.left=pageXOffset),k}if("scroll-handle"===this.targetModifier){var m=void 0,b=this.target;b===document.body?(b=document.documentElement,m={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):m=ar(b);var d=getComputedStyle(b),c=b.scrollWidth>b.clientWidth||[d.overflow,d.overflowX].indexOf("scroll")>=0||this.target!==document.body,p=0;c&&(p=15);var l=m.height-parseFloat(d.borderTopWidth)-parseFloat(d.borderBottomWidth)-p,k={width:15,height:0.975*l*(l/b.scrollHeight),left:m.left+m.width-parseFloat(d.borderLeftWidth)-15},j=0;408>l&&this.target===document.body&&(j=-0.00011*Math.pow(l,2)-0.00727*l+22.58),this.target!==document.body&&(k.height=Math.max(k.height,24));var g=this.target.scrollTop/(b.scrollHeight-l);return k.top=g*(l-k.height-j)+m.top+parseFloat(d.borderTopWidth),this.target===document.body&&(k.height=Math.max(k.height,24)),k}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(b,c){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[b]&&(this._cache[b]=c.call(this)),this._cache[b]}},{key:"enable",value:function(){var b=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.options.addTargetClasses!==!1&&ax(this.target,this.getClass("enabled")),ax(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),b&&this.position()}},{key:"disable",value:function(){aB(this.target,this.getClass("enabled")),aB(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParent&&this.scrollParent.removeEventListener("scroll",this.position)}},{key:"destroy",value:function(){var b=this;this.disable(),ah.forEach(function(c,d){return c===b?void ah.splice(d,1):void 0})}},{key:"updateAttachClasses",value:function(c,f){var g=this;c=c||this.attachment,f=f||this.targetAttachment;var b=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var h=this._addAttachClasses;c.top&&h.push(this.getClass("element-attached")+"-"+c.top),c.left&&h.push(this.getClass("element-attached")+"-"+c.left),f.top&&h.push(this.getClass("target-attached")+"-"+f.top),f.left&&h.push(this.getClass("target-attached")+"-"+f.left);var d=[];b.forEach(function(e){d.push(g.getClass("element-attached")+"-"+e),d.push(g.getClass("target-attached")+"-"+e)}),J(function(){"undefined"!=typeof g._addAttachClasses&&(aG(g.element,g._addAttachClasses,d),g.options.addTargetClasses!==!1&&aG(g.target,g._addAttachClasses,d),delete g._addAttachClasses)})}},{key:"position",value:function(){var y=this,S=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(this.enabled){this.clearCache();var C=q(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,C);var M=this.cache("element-bounds",function(){return ar(y.element)}),F=M.width,R=M.height;if(0===F&&0===R&&"undefined"!=typeof this.lastSize){var N=this.lastSize;F=N.width,R=N.height}else{this.lastSize={width:F,height:R}}var L=this.cache("target-bounds",function(){return y.getTargetBounds()}),T=L,s=ak(ad(this.attachment),{width:F,height:R}),B=ak(ad(C),T),U=ak(this.offset,{width:F,height:R}),P=ak(this.targetOffset,T);s=an(s,U),B=an(B,P);for(var H=L.left+B.left-s.left,W=L.top+B.top-s.top,r=0;r<ag.modules.length;++r){var j=ag.modules[r],v=j.position.call(this,{left:H,top:W,targetAttachment:C,targetPos:L,elementPos:M,offset:s,targetOffset:B,manualOffset:U,manualTargetOffset:P,scrollbarSize:z,attachment:this.attachment});if(v===!1){return !1}"undefined"!=typeof v&&"object"==typeof v&&(W=v.top,H=v.left)}var k={page:{top:W,left:H},viewport:{top:W-pageYOffset,bottom:pageYOffset-W-R+innerHeight,left:H-pageXOffset,right:pageXOffset-H-F+innerWidth}},z=void 0;return document.body.scrollWidth>window.innerWidth&&(z=this.cache("scrollbar-size",aI),k.viewport.bottom-=z.height),document.body.scrollHeight>window.innerHeight&&(z=this.cache("scrollbar-size",aI),k.viewport.right-=z.width),(-1===["","static"].indexOf(document.body.style.position)||-1===["","static"].indexOf(document.body.parentElement.style.position))&&(k.page.bottom=document.body.scrollHeight-W-R,k.page.right=document.body.scrollWidth-H-F),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var l=y.cache("target-offsetparent",function(){return aq(y.target)}),m=y.cache("target-offsetparent-bounds",function(){return ar(l)}),c=getComputedStyle(l),p=m,b={};if(["Top","Left","Bottom","Right"].forEach(function(e){b[e.toLowerCase()]=parseFloat(c["border"+e+"Width"])}),m.right=document.body.scrollWidth-m.left-p.width+b.right,m.bottom=document.body.scrollHeight-m.top-p.height+b.bottom,k.page.top>=m.top+b.top&&k.page.bottom>=m.bottom&&k.page.left>=m.left+b.left&&k.page.right>=m.right){var g=l.scrollTop,d=l.scrollLeft;k.offset={top:k.page.top-m.top+g-b.top,left:k.page.left-m.left+d-b.left}}}(),this.move(k),this.history.unshift(k),this.history.length>3&&this.history.pop(),S&&K(),!0}}},{key:"move",value:function(N){var A=this;if("undefined"!=typeof this.element.parentNode){var j={};for(var x in N){j[x]={};for(var k in N[x]){for(var f=!1,H=0;H<this.history.length;++H){var z=this.history[H];if("undefined"!=typeof z[x]&&!aC(z[x][k],N[x][k])){f=!0;break}}f||(j[x][k]=!0)}}var w={top:"",left:"",right:"",bottom:""},B=function(c,h){var b="undefined"!=typeof A.options.optimizations,l=b?A.options.optimizations.gpu:null;if(l!==!1){var e=void 0,d=void 0;c.top?(w.top=0,e=h.top):(w.bottom=0,e=-h.bottom),c.left?(w.left=0,d=h.left):(w.right=0,d=-h.right),w[ay]="translateX("+Math.round(d)+"px) translateY("+Math.round(e)+"px)","msTransform"!==ay&&(w[ay]+=" translateZ(0)")}else{c.top?w.top=h.top+"px":w.bottom=h.bottom+"px",c.left?w.left=h.left+"px":w.right=h.right+"px"}},M=!1;if((j.page.top||j.page.bottom)&&(j.page.left||j.page.right)?(w.position="absolute",B(j.page,N.page)):(j.viewport.top||j.viewport.bottom)&&(j.viewport.left||j.viewport.right)?(w.position="fixed",B(j.viewport,N.viewport)):"undefined"!=typeof j.offset&&j.offset.top&&j.offset.left?!function(){w.position="absolute";var b=A.cache("target-offsetparent",function(){return aq(A.target)});aq(A.element)!==b&&J(function(){A.element.parentNode.removeChild(A.element),b.appendChild(A.element)}),B(j.offset,N.offset),M=!0}():(w.position="absolute",B({top:!0,left:!0},N.page)),!M){for(var g=!0,C=this.element.parentNode;C&&"BODY"!==C.tagName;){if("static"!==getComputedStyle(C).position){g=!1;break}C=C.parentNode}g||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element))}var s={},L=!1;for(var k in w){var F=w[k],E=this.element.style[k];""!==E&&""!==F&&["top","left","bottom","right"].indexOf(k)>=0&&(E=parseFloat(E),F=parseFloat(F)),E!==F&&(L=!0,s[k]=F)}L&&J(function(){aD(A.element.style,s)})}}}]),a}();aa.modules=[],ag.position=aJ;var Q=aD(aa,ag),ab=function(){function a(l,j){var c=[],g=!0,d=!1,b=void 0;try{for(var m,k=l[Symbol.iterator]();!(g=(m=k.next()).done)&&(c.push(m.value),!j||c.length!==j);g=!0){}}catch(h){d=!0,b=h}finally{try{!g&&k["return"]&&k["return"]()}finally{if(d){throw b}}}return c}return function(b,c){if(Array.isArray(b)){return b}if(Symbol.iterator in Object(b)){return a(b,c)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),V=ag.Utils,ar=V.getBounds,aD=V.extend,aG=V.updateClasses,J=V.defer,I=["left","top","right","bottom"];ag.modules.push({position:function(H){var z=this,c=H.top,r=H.left,f=H.targetAttachment;if(!this.options.constraints){return !0}var L=this.cache("element-bounds",function(){return ar(z.element)}),C=L.height,w=L.width;if(0===w&&0===C&&"undefined"!=typeof this.lastSize){var k=this.lastSize;w=k.width,C=k.height}var A=this.cache("target-bounds",function(){return z.getTargetBounds()}),F=A.height,b=A.width,x=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(a){var d=a.outOfBoundsClass,g=a.pinnedClass;d&&x.push(d),g&&x.push(g)}),x.forEach(function(a){["left","top","right","bottom"].forEach(function(d){x.push(a+"-"+d)})});var j=[],E=aD({},f),B=aD({},this.attachment);return this.options.constraints.forEach(function(v){var a=v.to,y=v.attachment,n=v.pin;"undefined"==typeof y&&(y="");var h=void 0,o=void 0;if(y.indexOf(" ")>=0){var p=y.split(" "),i=ab(p,2);o=i[0],h=i[1]}else{h=o=y}var u=aH(z,a);("target"===o||"both"===o)&&(c<u[1]&&"top"===E.top&&(c+=F,E.top="bottom"),c+C>u[3]&&"bottom"===E.top&&(c-=F,E.top="top")),"together"===o&&(c<u[1]&&"top"===E.top&&("bottom"===B.top?(c+=F,E.top="bottom",c+=C,B.top="top"):"top"===B.top&&(c+=F,E.top="bottom",c-=C,B.top="bottom")),c+C>u[3]&&"bottom"===E.top&&("top"===B.top?(c-=F,E.top="top",c-=C,B.top="bottom"):"bottom"===B.top&&(c-=F,E.top="top",c+=C,B.top="top")),"middle"===E.top&&(c+C>u[3]&&"top"===B.top?(c-=C,B.top="bottom"):c<u[1]&&"bottom"===B.top&&(c+=C,B.top="top"))),("target"===h||"both"===h)&&(r<u[0]&&"left"===E.left&&(r+=b,E.left="right"),r+w>u[2]&&"right"===E.left&&(r-=b,E.left="left")),"together"===h&&(r<u[0]&&"left"===E.left?"right"===B.left?(r+=b,E.left="right",r+=w,B.left="left"):"left"===B.left&&(r+=b,E.left="right",r-=w,B.left="right"):r+w>u[2]&&"right"===E.left?"left"===B.left?(r-=b,E.left="left",r-=w,B.left="right"):"right"===B.left&&(r-=b,E.left="left",r+=w,B.left="left"):"center"===E.left&&(r+w>u[2]&&"left"===B.left?(r-=w,B.left="right"):r<u[0]&&"right"===B.left&&(r+=w,B.left="left"))),("element"===o||"both"===o)&&(c<u[1]&&"bottom"===B.top&&(c+=C,B.top="top"),c+C>u[3]&&"top"===B.top&&(c-=C,B.top="bottom")),("element"===h||"both"===h)&&(r<u[0]&&"right"===B.left&&(r+=w,B.left="left"),r+w>u[2]&&"left"===B.left&&(r-=w,B.left="right")),"string"==typeof n?n=n.split(",").map(function(d){return d.trim()}):n===!0&&(n=["top","left","right","bottom"]),n=n||[];var e=[],m=[];c<u[1]&&(n.indexOf("top")>=0?(c=u[1],e.push("top")):m.push("top")),c+C>u[3]&&(n.indexOf("bottom")>=0?(c=u[3]-C,e.push("bottom")):m.push("bottom")),r<u[0]&&(n.indexOf("left")>=0?(r=u[0],e.push("left")):m.push("left")),r+w>u[2]&&(n.indexOf("right")>=0?(r=u[2]-w,e.push("right")):m.push("right")),e.length&&!function(){var d=void 0;d="undefined"!=typeof z.options.pinnedClass?z.options.pinnedClass:z.getClass("pinned"),j.push(d),e.forEach(function(g){j.push(d+"-"+g)})}(),m.length&&!function(){var d=void 0;d="undefined"!=typeof z.options.outOfBoundsClass?z.options.outOfBoundsClass:z.getClass("out-of-bounds"),j.push(d),m.forEach(function(g){j.push(d+"-"+g)})}(),(e.indexOf("left")>=0||e.indexOf("right")>=0)&&(B.left=E.left=!1),(e.indexOf("top")>=0||e.indexOf("bottom")>=0)&&(B.top=E.top=!1),(E.top!==f.top||E.left!==f.left||B.top!==z.attachment.top||B.left!==z.attachment.left)&&z.updateAttachClasses(B,E)}),J(function(){z.options.addTargetClasses!==!1&&aG(z.target,j,x),aG(z.element,j,x)}),{top:c,left:r}}});var V=ag.Utils,ar=V.getBounds,aG=V.updateClasses,J=V.defer;ag.modules.push({position:function(B){var x=this,c=B.top,m=B.left,j=this.cache("element-bounds",function(){return ar(x.element)}),C=j.height,z=j.width,w=this.getTargetBounds(),r=c+C,k=m+z,y=[];c<=w.bottom&&r>=w.top&&["left","right"].forEach(function(a){var d=w[a];(d===m||d===k)&&y.push(a)}),m<=w.right&&k>=w.left&&["top","bottom"].forEach(function(a){var d=w[a];(d===c||d===r)&&y.push(a)});var A=[],b=[],v=["left","top","right","bottom"];return A.push(this.getClass("abutted")),v.forEach(function(a){A.push(x.getClass("abutted")+"-"+a)}),y.length&&b.push(this.getClass("abutted")),y.forEach(function(a){b.push(x.getClass("abutted")+"-"+a)}),J(function(){x.options.addTargetClasses!==!1&&aG(x.target,b,A),aG(x.element,b,A)}),!0}});var ab=function(){function a(l,j){var c=[],g=!0,d=!1,b=void 0;try{for(var m,k=l[Symbol.iterator]();!(g=(m=k.next()).done)&&(c.push(m.value),!j||c.length!==j);g=!0){}}catch(h){d=!0,b=h}finally{try{!g&&k["return"]&&k["return"]()}finally{if(d){throw b}}}return c}return function(b,c){if(Array.isArray(b)){return b}if(Symbol.iterator in Object(b)){return a(b,c)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return ag.modules.push({position:function(d){var h=d.top,j=d.left;if(this.options.shift){var c=this.options.shift;"function"==typeof this.options.shift&&(c=this.options.shift.call(this,{top:h,left:j}));var k=void 0,g=void 0;if("string"==typeof c){c=c.split(" "),c[1]=c[1]||c[0];var f=c,b=ab(f,2);k=b[0],g=b[1],k=parseFloat(k,10),g=parseFloat(g,10)}else{k=c.top,g=c.left}return h+=k,j+=g,{top:h,left:j}}}}),Q});